<html>
<head>
<title>Processing.js</title>
<script src="http://cloud.github.com/downloads/processing-js/processing-js/processing-1.4.1.min.js"></script>
<style>
	body {
		background-color: #f0f0f0;
		margin: 0px;
		overflow: hidden;
	}

	a {
		color:#0078ff;
	}
</style>
</head>
<body>
<audio id="audio-element" src="../songs/10 - Fitzpleasure.ogg" controls="" style="width: 400px;"></audio>
<h1>Processing JS</h1>
<script>
var fft;
function media(fft)
{
	fft = fft.spectrum;
}
</script>
<script type="text/processing" data-processing-target="mycanvas">
int i = 0; 
int spec = 0;
float targetSpec = 0.0;

void setup() {
    size(800, 400); 
    background(255);
    smooth();
    frameRate(24);
} 
void draw() {
	background(255);
	if(fft != undefined){
		for(int j = 0; j < fft.spectrum.length; j ++)
		{
			spec = fft.spectrum[j] * 3000;
			targetSpec += (spec - targetSpec) * .2;
			stroke(random(50), random(255), random(255), 100);
			rect(j*6, height, 2, -targetSpec);
			fill( 0,100,200,200 );
		}
	}
}
</script>
<canvas id="mycanvas"></canvas>
<script src="parse.js" type="text/javascript" language="javascript"></script>
</body>
</html>